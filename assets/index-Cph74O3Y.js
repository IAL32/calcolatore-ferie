(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const Pt=!1;var Vt=Array.isArray,un=Array.prototype.indexOf,At=Array.from,fn=Object.defineProperty,$e=Object.getOwnPropertyDescriptor,cn=Object.getOwnPropertyDescriptors,dn=Object.prototype,vn=Array.prototype,hr=Object.getPrototypeOf,$t=Object.isExtensible;function hn(e){for(var t=0;t<e.length;t++)e[t]()}function _r(){var e,t,r=new Promise((n,s)=>{e=n,t=s});return{promise:r,resolve:e,reject:t}}const z=2,Bt=4,Ut=8,_n=1<<24,Se=16,ke=32,Ue=64,Tt=128,ue=512,G=1024,Z=2048,_e=4096,te=8192,ye=16384,Gt=32768,tt=65536,er=1<<17,pr=1<<18,st=1<<19,pn=1<<20,xe=1<<25,ze=32768,Yt=1<<21,Wt=1<<22,Ce=1<<23,et=Symbol("$state"),gn=Symbol("legacy props"),Xe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function mn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function xn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function yn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function En(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Sn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function kn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Dn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Mn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const An=1,Tn=2,gr=4,Fn=8,Cn=16,Rn=1,In=2,B=Symbol(),Nn="http://www.w3.org/1999/xhtml";function On(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Ln(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function mr(e){return e===this.v}function Pn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function br(e){return!Pn(e,this.v)}let Yn=!1,re=null;function rt(e){re=e}function Ie(e,t=!1,r){re={p:re,i:!1,c:null,e:null,s:e,x:null,l:null}}function Ne(e){var t=re,r=t.e;if(r!==null){t.e=null;for(var n of r)Yr(n)}return t.i=!0,re=t.p,{}}function xr(){return!0}let Oe=[];function wr(){var e=Oe;Oe=[],hn(e)}function Ft(e){if(Oe.length===0&&!ft){var t=Oe;queueMicrotask(()=>{t===Oe&&wr()})}Oe.push(e)}function Hn(){for(;Oe.length>0;)wr()}function yr(e){var t=F;if(t===null)return k.f|=Ce,e;if((t.f&Gt)===0){if((t.f&Tt)===0)throw e;t.b.error(e)}else nt(e,t)}function nt(e,t){for(;t!==null;){if((t.f&Tt)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e}const xt=new Set;let D=null,ut=null,ae=null,ie=[],Ct=null,Ht=!1,ft=!1;class ve{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#s=new Set;#i=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(t){ie=[],ut=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const n of t)this.#a(n,r);this.is_fork||this.#f(),this.is_deferred()?(this.#o(r.effects),this.#o(r.render_effects)):(ut=this,D=null,tr(r.render_effects),tr(r.effects),ut=null,this.#l?.resolve()),ae=null}#a(t,r){t.f^=G;for(var n=t.first;n!==null;){var s=n.f,i=(s&(ke|Ue))!==0,o=i&&(s&G)!==0,u=o||(s&te)!==0||this.skipped_effects.has(n);if((n.f&Tt)!==0&&n.b?.is_pending()&&(r={parent:r,effect:n,effects:[],render_effects:[]}),!u&&n.fn!==null){i?n.f^=G:(s&Bt)!==0?r.effects.push(n):gt(n)&&((n.f&Se)!==0&&this.#s.add(n),_t(n));var a=n.first;if(a!==null){n=a;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)l===r.effect&&(this.#o(r.effects),this.#o(r.render_effects),r=r.parent),n=l.next,l=l.parent}}#o(t){for(const r of t)(r.f&Z)!==0?this.#s.add(r):(r.f&_e)!==0&&this.#i.add(r),this.#u(r.deps),W(r,G)}#u(t){if(t!==null)for(const r of t)(r.f&z)===0||(r.f&ze)===0||(r.f^=ze,this.#u(r.deps))}capture(t,r){this.previous.has(t)||this.previous.set(t,r),(t.f&Ce)===0&&(this.current.set(t,t.v),ae?.set(t,t.v))}activate(){D=this,this.apply()}deactivate(){D===this&&(D=null,ae=null)}flush(){if(this.activate(),ie.length>0){if(Er(),D!==null&&D!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#f(){if(this.#r===0){for(const t of this.#e)t();this.#e.clear()}this.#n===0&&this.#c()}#c(){if(xt.size>1){this.previous.clear();var t=ae,r=!0,n={parent:null,effect:null,effects:[],render_effects:[]};for(const i of xt){if(i===this){r=!1;continue}const o=[];for(const[a,l]of this.current){if(i.current.has(a))if(r&&l!==i.current.get(a))i.current.set(a,l);else continue;o.push(a)}if(o.length===0)continue;const u=[...i.current.keys()].filter(a=>!this.current.has(a));if(u.length>0){var s=ie;ie=[];const a=new Set,l=new Map;for(const f of o)Sr(f,u,a,l);if(ie.length>0){D=i,i.apply();for(const f of ie)i.#a(f,n);i.deactivate()}ie=s}}D=null,ae=t}this.committed=!0,xt.delete(this)}increment(t){this.#n+=1,t&&(this.#r+=1)}decrement(t){this.#n-=1,t&&(this.#r-=1),this.revive()}revive(){for(const t of this.#s)this.#i.delete(t),W(t,Z),Ve(t);for(const t of this.#i)W(t,_e),Ve(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=_r()).promise}static ensure(){if(D===null){const t=D=new ve;xt.add(D),ft||ve.enqueue(()=>{D===t&&t.flush()})}return D}static enqueue(t){Ft(t)}apply(){}}function qn(e){var t=ft;ft=!0;try{for(var r;;){if(Hn(),ie.length===0&&(D?.flush(),ie.length===0))return Ct=null,r;Er()}}finally{ft=t}}function Er(){var e=Ye;Ht=!0;var t=null;try{var r=0;for(Dt(!0);ie.length>0;){var n=ve.ensure();if(r++>1e3){var s,i;jn()}n.process(ie),Re.clear()}}finally{Ht=!1,Dt(e),Ct=null}}function jn(){try{En()}catch(e){nt(e,Ct)}}let me=null;function tr(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(ye|te))===0&&gt(n)&&(me=new Set,_t(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?zr(n):n.fn=null),me?.size>0)){Re.clear();for(const s of me){if((s.f&(ye|te))!==0)continue;const i=[s];let o=s.parent;for(;o!==null;)me.has(o)&&(me.delete(o),i.push(o)),o=o.parent;for(let u=i.length-1;u>=0;u--){const a=i[u];(a.f&(ye|te))===0&&_t(a)}}me.clear()}}me=null}}function Sr(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&z)!==0?Sr(s,t,r,n):(i&(Wt|Se))!==0&&(i&Z)===0&&kr(s,t,n)&&(W(s,Z),Ve(s))}}function kr(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if((s.f&z)!==0&&kr(s,t,r))return r.set(s,!0),!0}return r.set(e,!1),!1}function Ve(e){for(var t=Ct=e;t.parent!==null;){t=t.parent;var r=t.f;if(Ht&&t===F&&(r&Se)!==0&&(r&pr)===0)return;if((r&(Ue|ke))!==0){if((r&G)===0)return;t.f^=G}}ie.push(t)}function zn(e){let t=0,r=Be(0),n;return()=>{vt()&&(d(r),Hr(()=>(t===0&&(n=Zt(()=>e(()=>ct(r)))),t+=1,()=>{Ft(()=>{t-=1,t===0&&(n?.(),n=void 0,ct(r))})})))}}var Vn=tt|st|Tt;function Bn(e,t,r){new Un(e,t,r)}class Un{parent;#e=!1;#t;#n=null;#r;#l;#s;#i=null;#a=null;#o=null;#u=null;#f=null;#c=0;#d=0;#h=!1;#v=null;#b=zn(()=>(this.#v=Be(this.#c),()=>{this.#v=null}));constructor(t,r,n){this.#t=t,this.#r=r,this.#l=n,this.parent=F.b,this.#e=!!this.#r.pending,this.#s=Qt(()=>{F.b=this;{var s=this.#g();try{this.#i=se(()=>n(s))}catch(i){this.error(i)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#f?.remove()}},Vn)}#x(){try{this.#i=se(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#w(){const t=this.#r.pending;t&&(this.#a=se(()=>t(this.#t)),ve.enqueue(()=>{var r=this.#g();this.#i=this.#_(()=>(ve.ensure(),se(()=>this.#l(r)))),this.#d>0?this.#p():(Pe(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#f=Le(),this.#t.before(this.#f),t=this.#f),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#_(t){var r=F,n=k,s=re;pe(this.#s),Q(this.#s),rt(this.#s.ctx);try{return t()}catch(i){return yr(i),null}finally{pe(r),Q(n),rt(s)}}#p(){const t=this.#r.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),Ur(this.#i,this.#u)),this.#a===null&&(this.#a=se(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#a&&Pe(this.#a,()=>{this.#a=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(t){this.#m(t),this.#c+=t,this.#v&&it(this.#v,this.#c)}get_effect_pending(){return this.#b(),d(this.#v)}error(t){var r=this.#r.onerror;let n=this.#r.failed;if(this.#h||!r&&!n)throw t;this.#i&&(X(this.#i),this.#i=null),this.#a&&(X(this.#a),this.#a=null),this.#o&&(X(this.#o),this.#o=null);var s=!1,i=!1;const o=()=>{if(s){Ln();return}s=!0,i&&Mn(),ve.ensure(),this.#c=0,this.#o!==null&&Pe(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#h=!1,se(()=>this.#l(this.#t)))),this.#d>0?this.#p():this.#e=!1};var u=k;try{Q(null),i=!0,r?.(t,o),i=!1}catch(a){nt(a,this.#s&&this.#s.parent)}finally{Q(u)}n&&Ft(()=>{this.#o=this.#_(()=>{ve.ensure(),this.#h=!0;try{return se(()=>{n(this.#t,()=>t,()=>o)})}catch(a){return nt(a,this.#s.parent),null}finally{this.#h=!1}})})}}function Gn(e,t,r,n){const s=Rt;if(r.length===0&&e.length===0){n(t.map(s));return}var i=D,o=F,u=Wn();function a(){Promise.all(r.map(l=>Kn(l))).then(l=>{u();try{n([...t.map(s),...l])}catch(f){(o.f&ye)===0&&nt(f,o)}i?.deactivate(),St()}).catch(l=>{nt(l,o)})}e.length>0?Promise.all(e).then(()=>{u();try{return a()}finally{i?.deactivate(),St()}}):a()}function Wn(){var e=F,t=k,r=re,n=D;return function(i=!0){pe(e),Q(t),rt(r),i&&n?.activate()}}function St(){pe(null),Q(null),rt(null)}function Rt(e){var t=z|Z,r=k!==null&&(k.f&z)!==0?k:null;return F!==null&&(F.f|=st),{ctx:re,deps:null,effects:null,equals:mr,f:t,fn:e,reactions:null,rv:0,v:B,wv:0,parent:r??F,ac:null}}function Kn(e,t){let r=F;r===null&&bn();var n=r.b,s=void 0,i=Be(B),o=!k,u=new Map;return oi(()=>{var a=_r();s=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).then(()=>{l===D&&l.committed&&l.deactivate(),St()})}catch(h){a.reject(h),St()}var l=D;if(o){var f=!n.is_pending();n.update_pending_count(1),l.increment(f),u.get(l)?.reject(Xe),u.delete(l),u.set(l,a)}const v=(h,c=void 0)=>{if(l.activate(),c)c!==Xe&&(i.f|=Ce,it(i,c));else{(i.f&Ce)!==0&&(i.f^=Ce),it(i,h);for(const[g,y]of u){if(u.delete(g),g===l)break;y.reject(Xe)}}o&&(n.update_pending_count(-1),l.decrement(f))};a.promise.then(v,h=>v(null,h||"unknown"))}),Lr(()=>{for(const a of u.values())a.reject(Xe)}),new Promise(a=>{function l(f){function v(){f===s?a(i):l(s)}f.then(v,v)}l(s)})}function le(e){const t=Rt(e);return Gr(t),t}function Jn(e){const t=Rt(e);return t.equals=br,t}function Dr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)X(t[r])}}function Qn(e){for(var t=e.parent;t!==null;){if((t.f&z)===0)return(t.f&ye)===0?t:null;t=t.parent}return null}function Kt(e){var t,r=F;pe(Qn(e));try{e.f&=~ze,Dr(e),t=Qr(e)}finally{pe(r)}return t}function Mr(e){var t=Kt(e);if(e.equals(t)||(D?.is_fork||(e.v=t),e.wv=Kr()),!Ge)if(ae!==null)(vt()||D?.is_fork)&&ae.set(e,t);else{var r=(e.f&ue)===0?_e:G;W(e,r)}}let qt=new Set;const Re=new Map;let Ar=!1;function Be(e,t){var r={f:0,v:e,reactions:null,equals:mr,rv:0,wv:0};return r}function P(e,t){const r=Be(e);return Gr(r),r}function Xn(e,t=!1,r=!0){const n=Be(e);return t||(n.equals=br),n}function w(e,t,r=!1){k!==null&&(!he||(k.f&er)!==0)&&xr()&&(k.f&(z|Se|Wt|er))!==0&&!Ee?.includes(e)&&Dn();let n=r?we(t):t;return it(e,n)}function it(e,t){if(!e.equals(t)){var r=e.v;Ge?Re.set(e,t):Re.set(e,r),e.v=t;var n=ve.ensure();n.capture(e,r),(e.f&z)!==0&&((e.f&Z)!==0&&Kt(e),W(e,(e.f&ue)!==0?G:_e)),e.wv=Kr(),Tr(e,Z),F!==null&&(F.f&G)!==0&&(F.f&(ke|Ue))===0&&(ne===null?fi([e]):ne.push(e)),!n.is_fork&&qt.size>0&&!Ar&&Zn()}return t}function Zn(){Ar=!1;var e=Ye;Dt(!0);const t=Array.from(qt);try{for(const r of t)(r.f&G)!==0&&W(r,_e),gt(r)&&_t(r)}finally{Dt(e)}qt.clear()}function ct(e){w(e,e.v+1)}function Tr(e,t){var r=e.reactions;if(r!==null)for(var n=r.length,s=0;s<n;s++){var i=r[s],o=i.f,u=(o&Z)===0;if(u&&W(i,t),(o&z)!==0){var a=i;ae?.delete(a),(o&ze)===0&&(o&ue&&(i.f|=ze),Tr(a,_e))}else u&&((o&Se)!==0&&me!==null&&me.add(i),Ve(i))}}function we(e){if(typeof e!="object"||e===null||et in e)return e;const t=hr(e);if(t!==dn&&t!==vn)return e;var r=new Map,n=Vt(e),s=P(0),i=He,o=u=>{if(He===i)return u();var a=k,l=He;Q(null),ar(i);var f=u();return Q(a),ar(l),f};return n&&r.set("length",P(e.length)),new Proxy(e,{defineProperty(u,a,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Sn();var f=r.get(a);return f===void 0?f=o(()=>{var v=P(l.value);return r.set(a,v),v}):w(f,l.value,!0),!0},deleteProperty(u,a){var l=r.get(a);if(l===void 0){if(a in u){const f=o(()=>P(B));r.set(a,f),ct(s)}}else w(l,B),ct(s);return!0},get(u,a,l){if(a===et)return e;var f=r.get(a),v=a in u;if(f===void 0&&(!v||$e(u,a)?.writable)&&(f=o(()=>{var c=we(v?u[a]:B),g=P(c);return g}),r.set(a,f)),f!==void 0){var h=d(f);return h===B?void 0:h}return Reflect.get(u,a,l)},getOwnPropertyDescriptor(u,a){var l=Reflect.getOwnPropertyDescriptor(u,a);if(l&&"value"in l){var f=r.get(a);f&&(l.value=d(f))}else if(l===void 0){var v=r.get(a),h=v?.v;if(v!==void 0&&h!==B)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return l},has(u,a){if(a===et)return!0;var l=r.get(a),f=l!==void 0&&l.v!==B||Reflect.has(u,a);if(l!==void 0||F!==null&&(!f||$e(u,a)?.writable)){l===void 0&&(l=o(()=>{var h=f?we(u[a]):B,c=P(h);return c}),r.set(a,l));var v=d(l);if(v===B)return!1}return f},set(u,a,l,f){var v=r.get(a),h=a in u;if(n&&a==="length")for(var c=l;c<v.v;c+=1){var g=r.get(c+"");g!==void 0?w(g,B):c in u&&(g=o(()=>P(B)),r.set(c+"",g))}if(v===void 0)(!h||$e(u,a)?.writable)&&(v=o(()=>P(void 0)),w(v,we(l)),r.set(a,v));else{h=v.v!==B;var y=o(()=>we(l));w(v,y)}var _=Reflect.getOwnPropertyDescriptor(u,a);if(_?.set&&_.set.call(f,l),!h){if(n&&typeof a=="string"){var b=r.get("length"),M=Number(a);Number.isInteger(M)&&M>=b.v&&w(b,M+1)}ct(s)}return!0},ownKeys(u){d(s);var a=Reflect.ownKeys(u).filter(v=>{var h=r.get(v);return h===void 0||h.v!==B});for(var[l,f]of r)f.v!==B&&!(l in u)&&a.push(l);return a},setPrototypeOf(){kn()}})}function rr(e){try{if(e!==null&&typeof e=="object"&&et in e)return e[et]}catch{}return e}function $n(e,t){return Object.is(rr(e),rr(t))}var nr,Fr,Cr,Rr;function ei(){if(nr===void 0){nr=window,Fr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Cr=$e(t,"firstChild").get,Rr=$e(t,"nextSibling").get,$t(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),$t(r)&&(r.__t=void 0)}}function Le(e=""){return document.createTextNode(e)}function kt(e){return Cr.call(e)}function pt(e){return Rr.call(e)}function p(e,t){return kt(e)}function Ir(e,t=!1){{var r=kt(e);return r instanceof Comment&&r.data===""?pt(r):r}}function m(e,t=1,r=!1){let n=e;for(;t--;)n=pt(n);return n}function ti(e){e.textContent=""}function Nr(){return!1}let ir=!1;function ri(){ir||(ir=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Jt(e){var t=k,r=F;Q(null),pe(null);try{return e()}finally{Q(t),pe(r)}}function Or(e,t,r,n=r){e.addEventListener(t,()=>Jt(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),ri()}function ni(e){F===null&&(k===null&&yn(),wn()),Ge&&xn()}function ii(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function De(e,t,r){var n=F;n!==null&&(n.f&te)!==0&&(e|=te);var s={ctx:re,deps:null,nodes:null,f:e|Z|ue,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{_t(s),s.f|=Gt}catch(u){throw X(s),u}else t!==null&&Ve(s);var i=s;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&st)===0&&(i=i.first,(e&Se)!==0&&(e&tt)!==0&&i!==null&&(i.f|=tt)),i!==null&&(i.parent=n,n!==null&&ii(i,n),k!==null&&(k.f&z)!==0&&(e&Ue)===0)){var o=k;(o.effects??=[]).push(i)}return s}function vt(){return k!==null&&!he}function Lr(e){const t=De(Ut,null,!1);return W(t,G),t.teardown=e,t}function Pr(e){ni();var t=F.f,r=!k&&(t&ke)!==0&&(t&Gt)===0;if(r){var n=re;(n.e??=[]).push(e)}else return Yr(e)}function Yr(e){return De(Bt|pn,e,!1)}function si(e){ve.ensure();const t=De(Ue|st,e,!0);return(r={})=>new Promise(n=>{r.outro?Pe(t,()=>{X(t),n(void 0)}):(X(t),n(void 0))})}function ai(e){return De(Bt,e,!1)}function oi(e){return De(Wt|st,e,!0)}function Hr(e,t=0){return De(Ut|t,e,!0)}function oe(e,t=[],r=[],n=[]){Gn(n,t,r,s=>{De(Ut,()=>e(...s.map(d)),!0)})}function Qt(e,t=0){var r=De(Se|t,e,!0);return r}function se(e){return De(ke|st,e,!0)}function qr(e){var t=e.teardown;if(t!==null){const r=Ge,n=k;sr(!0),Q(null);try{t.call(null)}finally{sr(r),Q(n)}}}function jr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const s=r.ac;s!==null&&Jt(()=>{s.abort(Xe)});var n=r.next;(r.f&Ue)!==0?r.parent=null:X(r,t),r=n}}function li(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&ke)===0&&X(t),t=r}}function X(e,t=!0){var r=!1;(t||(e.f&pr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ui(e.nodes.start,e.nodes.end),r=!0),jr(e,t&&!r),Mt(e,0),W(e,ye);var n=e.nodes&&e.nodes.t;if(n!==null)for(const i of n)i.stop();qr(e);var s=e.parent;s!==null&&s.first!==null&&zr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ui(e,t){for(;e!==null;){var r=e===t?null:pt(e);e.remove(),e=r}}function zr(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Pe(e,t,r=!0){var n=[];Vr(e,n,!0);var s=()=>{r&&X(e),t&&t()},i=n.length;if(i>0){var o=()=>--i||s();for(var u of n)u.out(o)}else s()}function Vr(e,t,r){if((e.f&te)===0){e.f^=te;var n=e.nodes&&e.nodes.t;if(n!==null)for(const u of n)(u.is_global||r)&&t.push(u);for(var s=e.first;s!==null;){var i=s.next,o=(s.f&tt)!==0||(s.f&ke)!==0&&(e.f&Se)!==0;Vr(s,t,o?r:!1),s=i}}}function Xt(e){Br(e,!0)}function Br(e,t){if((e.f&te)!==0){e.f^=te,(e.f&G)===0&&(W(e,Z),Ve(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&tt)!==0||(r.f&ke)!==0;Br(r,s?t:!1),r=n}var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)(o.is_global||t)&&o.in()}}function Ur(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var s=r===n?null:pt(r);t.append(r),r=s}}let Ye=!1;function Dt(e){Ye=e}let Ge=!1;function sr(e){Ge=e}let k=null,he=!1;function Q(e){k=e}let F=null;function pe(e){F=e}let Ee=null;function Gr(e){k!==null&&(Ee===null?Ee=[e]:Ee.push(e))}let J=null,ee=0,ne=null;function fi(e){ne=e}let Wr=1,ht=0,He=ht;function ar(e){He=e}function Kr(){return++Wr}function gt(e){var t=e.f;if((t&Z)!==0)return!0;if(t&z&&(e.f&=~ze),(t&_e)!==0){var r=e.deps;if(r!==null)for(var n=r.length,s=0;s<n;s++){var i=r[s];if(gt(i)&&Mr(i),i.wv>e.wv)return!0}(t&ue)!==0&&ae===null&&W(e,G)}return!1}function Jr(e,t,r=!0){var n=e.reactions;if(n!==null&&!Ee?.includes(e))for(var s=0;s<n.length;s++){var i=n[s];(i.f&z)!==0?Jr(i,t,!1):t===i&&(r?W(i,Z):(i.f&G)!==0&&W(i,_e),Ve(i))}}function Qr(e){var t=J,r=ee,n=ne,s=k,i=Ee,o=re,u=he,a=He,l=e.f;J=null,ee=0,ne=null,k=(l&(ke|Ue))===0?e:null,Ee=null,rt(e.ctx),he=!1,He=++ht,e.ac!==null&&(Jt(()=>{e.ac.abort(Xe)}),e.ac=null);try{e.f|=Yt;var f=e.fn,v=f(),h=e.deps;if(J!==null){var c;if(Mt(e,ee),h!==null&&ee>0)for(h.length=ee+J.length,c=0;c<J.length;c++)h[ee+c]=J[c];else e.deps=h=J;if(vt()&&(e.f&ue)!==0)for(c=ee;c<h.length;c++)(h[c].reactions??=[]).push(e)}else h!==null&&ee<h.length&&(Mt(e,ee),h.length=ee);if(xr()&&ne!==null&&!he&&h!==null&&(e.f&(z|_e|Z))===0)for(c=0;c<ne.length;c++)Jr(ne[c],e);return s!==null&&s!==e&&(ht++,ne!==null&&(n===null?n=ne:n.push(...ne))),(e.f&Ce)!==0&&(e.f^=Ce),v}catch(g){return yr(g)}finally{e.f^=Yt,J=t,ee=r,ne=n,k=s,Ee=i,rt(o),he=u,He=a}}function ci(e,t){let r=t.reactions;if(r!==null){var n=un.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&z)!==0&&(J===null||!J.includes(t))&&(W(t,_e),(t.f&ue)!==0&&(t.f^=ue,t.f&=~ze),Dr(t),Mt(t,0))}function Mt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ci(e,r[n])}function _t(e){var t=e.f;if((t&ye)===0){W(e,G);var r=F,n=Ye;F=e,Ye=!0;try{(t&(Se|_n))!==0?li(e):jr(e),qr(e);var s=Qr(e);e.teardown=typeof s=="function"?s:null,e.wv=Wr;var i;Pt&&Yn&&(e.f&Z)!==0&&e.deps}finally{Ye=n,F=r}}}async function di(){await Promise.resolve(),qn()}function d(e){var t=e.f,r=(t&z)!==0;if(k!==null&&!he){var n=F!==null&&(F.f&ye)!==0;if(!n&&!Ee?.includes(e)){var s=k.deps;if((k.f&Yt)!==0)e.rv<ht&&(e.rv=ht,J===null&&s!==null&&s[ee]===e?ee++:J===null?J=[e]:J.includes(e)||J.push(e));else{(k.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[k]:i.includes(k)||i.push(k)}}}if(Ge){if(Re.has(e))return Re.get(e);if(r){var o=e,u=o.v;return((o.f&G)===0&&o.reactions!==null||Zr(o))&&(u=Kt(o)),Re.set(o,u),u}}else r&&(!ae?.has(e)||D?.is_fork&&!vt())&&(o=e,gt(o)&&Mr(o),Ye&&vt()&&(o.f&ue)===0&&Xr(o));if(ae?.has(e))return ae.get(e);if((e.f&Ce)!==0)throw e.v;return e.v}function Xr(e){if(e.deps!==null){e.f^=ue;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&z)!==0&&(t.f&ue)===0&&Xr(t)}}function Zr(e){if(e.v===B)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Re.has(t)||(t.f&z)!==0&&Zr(t))return!0;return!1}function Zt(e){var t=he;try{return he=!0,e()}finally{he=t}}const vi=-7169;function W(e,t){e.f=e.f&vi|t}const hi=["touchstart","touchmove"];function _i(e){return hi.includes(e)}const $r=new Set,jt=new Set;function It(e){for(var t=0;t<e.length;t++)$r.add(e[t]);for(var r of jt)r(e)}let or=null;function wt(e){var t=this,r=t.ownerDocument,n=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;or=e;var o=0,u=or===e&&e.__root;if(u){var a=s.indexOf(u);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var l=s.indexOf(t);if(l===-1)return;a<=l&&(o=a)}if(i=s[o]||e.target,i!==t){fn(e,"currentTarget",{configurable:!0,get(){return i||r}});var f=k,v=F;Q(null),pe(null);try{for(var h,c=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+n];y!=null&&(!i.disabled||e.target===i)&&y.call(i,e)}catch(_){h?c.push(_):h=_}if(e.cancelBubble||g===t||g===null)break;i=g}if(h){for(let _ of c)queueMicrotask(()=>{throw _});throw h}}finally{e.__root=t,delete e.currentTarget,Q(f),pe(v)}}}function pi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function lr(e,t){var r=F;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function j(e,t){var r=(t&Rn)!==0,n=(t&In)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=pi(i?e:"<!>"+e),r||(s=kt(s)));var o=n||Fr?document.importNode(s,!0):s.cloneNode(!0);if(r){var u=kt(o),a=o.lastChild;lr(u,a)}else lr(o,o);return o}}function q(e,t){e!==null&&e.before(t)}function O(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function gi(e,t){return mi(e,t)}const Je=new Map;function mi(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:o=!0}){ei();var u=new Set,a=v=>{for(var h=0;h<v.length;h++){var c=v[h];if(!u.has(c)){u.add(c);var g=_i(c);t.addEventListener(c,wt,{passive:g});var y=Je.get(c);y===void 0?(document.addEventListener(c,wt,{passive:g}),Je.set(c,1)):Je.set(c,y+1)}}};a(At($r)),jt.add(a);var l=void 0,f=si(()=>{var v=r??t.appendChild(Le());return Bn(v,{pending:()=>{}},h=>{if(i){Ie({});var c=re;c.c=i}s&&(n.$$events=s),l=e(h,n)||{},i&&Ne()}),()=>{for(var h of u){t.removeEventListener(h,wt);var c=Je.get(h);--c===0?(document.removeEventListener(h,wt),Je.delete(h)):Je.set(h,c)}jt.delete(a),v!==r&&v.parentNode?.removeChild(v)}});return bi.set(l,f),l}let bi=new WeakMap;class xi{anchor;#e=new Map;#t=new Map;#n=new Map;#r=new Set;#l=!0;constructor(t,r=!0){this.anchor=t,this.#l=r}#s=()=>{var t=D;if(this.#e.has(t)){var r=this.#e.get(t),n=this.#t.get(r);if(n)Xt(n),this.#r.delete(r);else{var s=this.#n.get(r);s&&(this.#t.set(r,s.effect),this.#n.delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),n=s.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===t)break;const u=this.#n.get(o);u&&(X(u.effect),this.#n.delete(o))}for(const[i,o]of this.#t){if(i===r||this.#r.has(i))continue;const u=()=>{if(Array.from(this.#e.values()).includes(i)){var l=document.createDocumentFragment();Ur(o,l),l.append(Le()),this.#n.set(i,{effect:o,fragment:l})}else X(o);this.#r.delete(i),this.#t.delete(i)};this.#l||!n?(this.#r.add(i),Pe(o,u,!1)):u()}}};#i=t=>{this.#e.delete(t);const r=Array.from(this.#e.values());for(const[n,s]of this.#n)r.includes(n)||(X(s.effect),this.#n.delete(n))};ensure(t,r){var n=D,s=Nr();if(r&&!this.#t.has(t)&&!this.#n.has(t))if(s){var i=document.createDocumentFragment(),o=Le();i.append(o),this.#n.set(t,{effect:se(()=>r(o)),fragment:i})}else this.#t.set(t,se(()=>r(this.anchor)));if(this.#e.set(n,t),s){for(const[u,a]of this.#t)u===t?n.skipped_effects.delete(a):n.skipped_effects.add(a);for(const[u,a]of this.#n)u===t?n.skipped_effects.delete(a.effect):n.skipped_effects.add(a.effect);n.oncommit(this.#s),n.ondiscard(this.#i)}else this.#s()}}function Et(e,t,r=!1){var n=new xi(e),s=r?tt:0;function i(o,u){n.ensure(o,u)}Qt(()=>{var o=!1;t((u,a=!0)=>{o=!0,i(a,u)}),o||i(!1,null)},s)}function ot(e,t){return t}function wi(e,t,r){for(var n=[],s=t.length,i,o=t.length,u=0;u<s;u++){let v=t[u];Pe(v,()=>{if(i){if(i.pending.delete(v),i.done.add(v),i.pending.size===0){var h=e.outrogroups;zt(At(i.done)),h.delete(i),h.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=n.length===0&&r!==null;if(a){var l=r,f=l.parentNode;ti(f),f.append(l),e.items.clear()}zt(t,!a)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function zt(e,t=!0){for(var r=0;r<e.length;r++)X(e[r],t)}var ur;function Ze(e,t,r,n,s,i=null){var o=e,u=new Map,a=(t&gr)!==0;if(a){var l=e;o=l.appendChild(Le())}var f=null,v=Jn(()=>{var b=r();return Vt(b)?b:b==null?[]:At(b)}),h,c=!0;function g(){_.fallback=f,yi(_,h,o,t,n),f!==null&&(h.length===0?(f.f&xe)===0?Xt(f):(f.f^=xe,lt(f,null,o)):Pe(f,()=>{f=null}))}var y=Qt(()=>{h=d(v);for(var b=h.length,M=new Set,C=D,A=Nr(),I=0;I<b;I+=1){var L=h[I],x=n(L,I),S=c?null:u.get(x);S?(S.v&&it(S.v,L),S.i&&it(S.i,I),A&&C.skipped_effects.delete(S.e)):(S=Ei(u,c?o:ur??=Le(),L,x,I,s,t,r),c||(S.e.f|=xe),u.set(x,S)),M.add(x)}if(b===0&&i&&!f&&(c?f=se(()=>i(o)):(f=se(()=>i(ur??=Le())),f.f|=xe)),!c)if(A){for(const[T,R]of u)M.has(T)||C.skipped_effects.add(R.e);C.oncommit(g),C.ondiscard(()=>{})}else g();d(v)}),_={effect:y,items:u,outrogroups:null,fallback:f};c=!1}function yi(e,t,r,n,s){var i=(n&Fn)!==0,o=t.length,u=e.items,a=e.effect.first,l,f=null,v,h=[],c=[],g,y,_,b;if(i)for(b=0;b<o;b+=1)g=t[b],y=s(g,b),_=u.get(y).e,(_.f&xe)===0&&(_.nodes?.a?.measure(),(v??=new Set).add(_));for(b=0;b<o;b+=1){if(g=t[b],y=s(g,b),_=u.get(y).e,e.outrogroups!==null)for(const R of e.outrogroups)R.pending.delete(_),R.done.delete(_);if((_.f&xe)!==0)if(_.f^=xe,_===a)lt(_,null,r);else{var M=f?f.next:a;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Fe(e,f,_),Fe(e,_,M),lt(_,M,r),f=_,h=[],c=[],a=f.next;continue}if((_.f&te)!==0&&(Xt(_),i&&(_.nodes?.a?.unfix(),(v??=new Set).delete(_))),_!==a){if(l!==void 0&&l.has(_)){if(h.length<c.length){var C=c[0],A;f=C.prev;var I=h[0],L=h[h.length-1];for(A=0;A<h.length;A+=1)lt(h[A],C,r);for(A=0;A<c.length;A+=1)l.delete(c[A]);Fe(e,I.prev,L.next),Fe(e,f,I),Fe(e,L,C),a=C,f=L,b-=1,h=[],c=[]}else l.delete(_),lt(_,a,r),Fe(e,_.prev,_.next),Fe(e,_,f===null?e.effect.first:f.next),Fe(e,f,_),f=_;continue}for(h=[],c=[];a!==null&&a!==_;)(l??=new Set).add(a),c.push(a),a=a.next;if(a===null)continue}(_.f&xe)===0&&h.push(_),f=_,a=_.next}if(e.outrogroups!==null){for(const R of e.outrogroups)R.pending.size===0&&(zt(At(R.done)),e.outrogroups?.delete(R));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||l!==void 0){var x=[];if(l!==void 0)for(_ of l)(_.f&te)===0&&x.push(_);for(;a!==null;)(a.f&te)===0&&a!==e.fallback&&x.push(a),a=a.next;var S=x.length;if(S>0){var T=(n&gr)!==0&&o===0?r:null;if(i){for(b=0;b<S;b+=1)x[b].nodes?.a?.measure();for(b=0;b<S;b+=1)x[b].nodes?.a?.fix()}wi(e,x,T)}}i&&Ft(()=>{if(v!==void 0)for(_ of v)_.nodes?.a?.apply()})}function Ei(e,t,r,n,s,i,o,u){var a=(o&An)!==0?(o&Cn)===0?Xn(r,!1,!1):Be(r):null,l=(o&Tn)!==0?Be(s):null;return{v:a,i:l,e:se(()=>(i(t,a??r,l??s,u),()=>{e.delete(n)}))}}function lt(e,t,r){if(e.nodes)for(var n=e.nodes.start,s=e.nodes.end,i=t&&(t.f&xe)===0?t.nodes.start:r;n!==null;){var o=pt(n);if(i.before(n),n===s)return;n=o}}function Fe(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Si(e,t,r){var n=e==null?"":""+e;return n===""?null:n}function qe(e,t,r,n,s,i){var o=e.__className;if(o!==r||o===void 0){var u=Si(r);u==null?e.removeAttribute("class"):e.className=u,e.__className=r}return i}function en(e,t,r=!1){if(e.multiple){if(t==null)return;if(!Vt(t))return On();for(var n of e.options)n.selected=t.includes(dt(n));return}for(n of e.options){var s=dt(n);if($n(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function ki(e){var t=new MutationObserver(()=>{en(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Lr(()=>{t.disconnect()})}function Di(e,t,r=t){var n=new WeakSet,s=!0;Or(e,"change",i=>{var o=i?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(o),dt);else{var a=e.querySelector(o)??e.querySelector("option:not([disabled])");u=a&&dt(a)}r(u),D!==null&&n.add(D)}),ai(()=>{var i=t();if(e===document.activeElement){var o=ut??D;if(n.has(o))return}if(en(e,i,s),s&&i===void 0){var u=e.querySelector(":checked");u!==null&&(i=dt(u),r(i))}e.__value=i,s=!1}),ki(e)}function dt(e){return"__value"in e?e.__value:e.value}const Mi=Symbol("is custom element"),Ai=Symbol("is html");function Ti(e,t,r,n){var s=Fi(e);s[t]!==(s[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&Ci(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Fi(e){return e.__attributes??={[Mi]:e.nodeName.includes("-"),[Ai]:e.namespaceURI===Nn}}var fr=new Map;function Ci(e){var t=e.getAttribute("is")||e.nodeName,r=fr.get(t);if(r)return r;fr.set(t,r=[]);for(var n,s=e,i=Element.prototype;i!==s;){n=cn(s);for(var o in n)n[o].set&&r.push(o);s=hr(s)}return r}function be(e,t,r=t){var n=new WeakSet;Or(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=Ot(e)?Lt(i):i,r(i),D!==null&&n.add(D),await di(),i!==(i=t())){var o=e.selectionStart,u=e.selectionEnd,a=e.value.length;if(e.value=i??"",u!==null){var l=e.value.length;o===u&&u===a&&l>a?(e.selectionStart=l,e.selectionEnd=l):(e.selectionStart=o,e.selectionEnd=Math.min(u,l))}}}),Zt(t)==null&&e.value&&(r(Ot(e)?Lt(e.value):e.value),D!==null&&n.add(D)),Hr(()=>{var s=t();if(e===document.activeElement){var i=ut??D;if(n.has(i))return}Ot(e)&&s===Lt(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ot(e){var t=e.type;return t==="number"||t==="range"}function Lt(e){return e===""?null:+e}let yt=!1;function Ri(e){var t=yt;try{return yt=!1,[e(),yt]}finally{yt=t}}function cr(e,t=1){const r=e();return e(r+t),r}function Qe(e,t,r,n){var s=n,i=!0,o=()=>(i&&(i=!1,s=n),s),u;{var a=et in e||gn in e;u=$e(e,t)?.set??(a&&t in e?_=>e[t]=_:void 0)}var l,f=!1;[l,f]=Ri(()=>e[t]);var v;if(v=()=>{var _=e[t];return _===void 0?o():(i=!0,_)},u){var h=e.$$legacy;return(function(_,b){return arguments.length>0?((!b||h||f)&&u(b?v():_),_):v()})}var c=!1,g=Rt(()=>(c=!1,v()));d(g);var y=F;return(function(_,b){if(arguments.length>0){const M=b?d(g):we(_);return w(g,M),c=!0,s!==void 0&&(s=M),_}return Ge&&c||(y.f&ye)!==0?g.v:d(g)})}function Ii(e){re===null&&mn(),Pr(()=>{const t=Zt(e);if(typeof t=="function")return t})}const Ni="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ni);const Oi=13.3333333,Li=8.6666666;function U(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,r-1,n)}function je(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function Pi(e,t){const r=U(e),n=U(t),s=[];if(r>n)return[];const i=new Date(r);for(;i<=n;){const o=i.getDay();o!==0&&o!==6&&s.push(je(i)),i.setDate(i.getDate()+1)}return s}function Yi(e,t){return new Date(e,t,0).getDate()}function dr(e){return new Date(e.getFullYear(),e.getMonth(),1)}function tn(e){return e.getMonth()===11?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1)}function Hi(e,t){const r=new Date(e);return r.setDate(e.getDate()+t),r}function qi(e,t){return Math.round((e.getTime()-t.getTime())/864e5)}function*ji(e,t){let r=dr(e);const n=dr(t);for(;r<=n;)yield new Date(r),r=tn(r)}function vr(e,t,r){const n=U(e),s=U(t);if(s<n)return 0;let i=0;for(const o of ji(n,s)){const u=Hi(tn(o),-1),a=n>o?n:o,l=s<u?s:u;if(l<a)continue;const f=Yi(o.getFullYear(),o.getMonth()+1),v=qi(l,a)+1;i+=r*(v/f)}return i}function zi(e,t,r=Oi*12,n=Li*12){const s=vr(t,e,r/12),i=vr(t,e,n/12);return{ferie:s,par:i}}function Vi(e,t,r){let n=e,s=t,i=r;const o=Math.min(n,i);n-=o,i-=o;const u=Math.min(s,i);return s-=u,i-=u,n-=i,{ferie:n,par:s}}function Bi(e,t,r,n,s){const{ferie:i,par:o}=zi(e,t,n,s);U(e);const u=r.reduce((f,v)=>f+v.hours,0),{ferie:a,par:l}=Vi(i,o,u);return{as_of:e,ferie_earned:i,par_earned:o,used:u,ferie_rem:a,par_rem:l,total_rem:a+l}}function Ui(e){const t=e%19,r=Math.floor(e/100),n=e%100,s=Math.floor(r/4),i=r%4,o=Math.floor((r+8)/25),u=Math.floor((r-o+1)/3),a=(19*t+r-s-u+15)%30,l=Math.floor(n/4),f=n%4,v=(32+2*i+2*l-a-f)%7,h=Math.floor((t+11*a+22*v)/451),c=Math.floor((a+v-7*h+114)/31),g=(a+v-7*h+114)%31+1;return new Date(e,c-1,g)}function Gi(e,t="MI"){const r=[{month:0,day:1,note:"Capodanno"},{month:0,day:6,note:"Epifania"},{month:3,day:25,note:"Liberazione"},{month:4,day:1,note:"Festa dei Lavoratori"},{month:5,day:2,note:"Festa della Repubblica"},{month:7,day:15,note:"Ferragosto"},{month:10,day:1,note:"Ognissanti"},{month:11,day:8,note:"Immacolata Concezione"},{month:11,day:25,note:"Natale"},{month:11,day:26,note:"Santo Stefano"}];t==="MI"&&r.push({month:11,day:7,note:"Sant'Ambrogio"});const n=r.map(o=>({d:je(new Date(e,o.month,o.day)),hours:0,type:"festa",note:o.note})),s=Ui(e);n.push({d:je(s),hours:0,type:"festa",note:"Pasqua"});const i=new Date(s);return i.setDate(s.getDate()+1),n.push({d:je(i),hours:0,type:"festa",note:"Pasquetta"}),n.sort((o,u)=>o.d.localeCompare(u.d))}var Wi=j('<div class="text-[0.55rem] text-center text-slate-600 font-mono"> </div>'),Ki=j('<div class="w-full aspect-square"></div>'),Ji=j("<div></div>"),Qi=j('<div class="bg-slate-800/20 rounded-xl p-3 border border-slate-700/30 hover:border-slate-600 transition-colors"><div class="text-[0.65rem] text-slate-400 mb-2 font-medium uppercase tracking-wider"> </div> <div class="grid grid-cols-7 gap-1 mb-1"></div> <div class="grid grid-cols-7 gap-1 justify-items-center"><!> <!></div></div>'),Xi=j('<div class="space-y-4"><div class="flex items-center justify-between"><h3 class="text-white text-sm font-semibold uppercase tracking-wider"> </h3></div> <div class="grid grid-cols-3 xl:grid-cols-4 gap-4"></div></div>');function Zi(e,t){Ie(t,!0);const r=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];let n=le(()=>{const c=new Map;for(const g of t.leaves){const _=(c.get(g.d)?.hours||0)+g.hours,b=g.type||"ferie";c.set(g.d,{hours:_,type:b})}return c});function s(c,g){return new Date(c,g+1,0).getDate()}function i(c){const g=d(n).get(c);if(g&&g.hours>0)return g.hours>=8?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)] border-emerald-400":"bg-emerald-500/50 border-emerald-400/50";if(g&&g.type==="festa")return"bg-orange-500 border-orange-400 shadow-[0_0_8px_rgba(249,115,22,0.4)]";const _=new Date(c).getDay();return _===0||_===6?"bg-orange-400/20 border-orange-400/20":"bg-slate-800 border-slate-700/50"}function o(c,g){return(new Date(c,g,1).getDay()+6)%7}function u(c){const g=d(n).get(c);return g?g.type==="festa"?`${c}: Festa`:`${c}: ${g.hours} ore`:`${c}`}var a=Xi(),l=p(a),f=p(l),v=p(f),h=m(l,2);Ze(h,21,()=>r,ot,(c,g,y)=>{const _=le(()=>s(t.year,y)),b=le(()=>o(t.year,y));var M=Qi(),C=p(M),A=p(C),I=m(C,2);Ze(I,20,()=>["L","M","M","G","V","S","D"],ot,(T,R)=>{var Y=Wi(),fe=p(Y);oe(()=>O(fe,R)),q(T,Y)});var L=m(I,2),x=p(L);Ze(x,17,()=>Array(d(b)),ot,(T,R)=>{var Y=Ki();q(T,Y)});var S=m(x,2);Ze(S,17,()=>Array(d(_)),ot,(T,R,Y)=>{const fe=le(()=>Y+1),ce=le(()=>je(new Date(t.year,y,d(fe))));var Me=Ji();oe((We,Ke)=>{qe(Me,1,`w-full aspect-square rounded-sm border ${We??""} transition-all duration-300 transform hover:scale-125 hover:z-10 cursor-alias`),Ti(Me,"title",Ke)},[()=>i(d(ce)),()=>u(d(ce))]),q(T,Me)}),oe(()=>O(A,d(g))),q(c,M)}),oe(()=>O(v,`Panoramica ${t.year??""}`)),q(e,a),Ne()}var $i=j('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-indigo-500/10 transition-all duration-300"><h2 class="text-indigo-300 text-sm font-semibold uppercase tracking-wider mb-4">Ferie</h2> <div class="space-y-4"><div><div class="text-slate-400 text-xs uppercase mb-1">Maturate</div> <div class="text-2xl font-mono text-white"> </div> <div class="text-xs text-slate-500"> </div></div> <div><div class="text-slate-400 text-xs uppercase mb-1">Residuo</div> <div> </div> <div class="text-xs text-slate-500"> </div></div></div></div> <div class="bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-purple-500/10 transition-all duration-300"><h2 class="text-purple-300 text-sm font-semibold uppercase tracking-wider mb-4">PAR</h2> <div class="space-y-4"><div><div class="text-slate-400 text-xs uppercase mb-1">Maturati</div> <div class="text-2xl font-mono text-white"> </div> <div class="text-xs text-slate-500"> </div></div> <div><div class="text-slate-400 text-xs uppercase mb-1">Residuo</div> <div> </div> <div class="text-xs text-slate-500"> </div></div></div></div> <div class="relative bg-gradient-to-br from-slate-800 to-slate-900 border border-indigo-500/30 rounded-2xl p-6 shadow-xl overflow-hidden group"><div class="absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div> <h2 class="text-white text-sm font-semibold uppercase tracking-wider mb-4 relative z-10">Totale Dispo.</h2> <div class="space-y-4 relative z-10"><div><div class="text-slate-400 text-xs uppercase mb-1">Usate Totali</div> <div class="text-2xl font-mono text-white"> </div> <div class="text-xs text-slate-500"> </div></div> <div><div class="text-slate-400 text-xs uppercase mb-1">Saldo Finale</div> <div> </div> <div class="text-xs text-slate-500"> </div></div></div></div></div>');function es(e,t){Ie(t,!0);function r(Ae){return`${Ae.toFixed(2)} h`}function n(Ae){return`${(Ae/8).toFixed(2)} gg`}var s=$i(),i=p(s),o=m(p(i),2),u=p(o),a=m(p(u),2),l=p(a),f=m(a,2),v=p(f),h=m(u,2),c=m(p(h),2),g=p(c),y=m(c,2),_=p(y),b=m(i,2),M=m(p(b),2),C=p(M),A=m(p(C),2),I=p(A),L=m(A,2),x=p(L),S=m(C,2),T=m(p(S),2),R=p(T),Y=m(T,2),fe=p(Y),ce=m(b,2),Me=m(p(ce),4),We=p(Me),Ke=m(p(We),2),E=p(Ke),N=m(Ke,2),H=p(N),V=m(We,2),K=m(p(V),2),$=p(K),ge=m(K,2),at=p(ge);oe((Ae,de,Te,mt,bt,Nt,rn,nn,sn,an,on,ln)=>{O(l,Ae),O(v,de),qe(c,1,`${t.report.ferie_rem<0?"text-red-400":"text-emerald-400"} text-3xl font-bold font-mono`),O(g,Te),O(_,mt),O(I,bt),O(x,Nt),qe(T,1,`${t.report.par_rem<0?"text-red-400":"text-emerald-400"} text-3xl font-bold font-mono`),O(R,rn),O(fe,nn),O(E,sn),O(H,an),qe(K,1,`${t.report.total_rem<0?"text-red-400":"text-emerald-400"} text-4xl font-bold font-mono`),O($,on),O(at,ln)},[()=>r(t.report.ferie_earned),()=>n(t.report.ferie_earned),()=>r(t.report.ferie_rem),()=>n(t.report.ferie_rem),()=>r(t.report.par_earned),()=>n(t.report.par_earned),()=>r(t.report.par_rem),()=>n(t.report.par_rem),()=>r(t.report.used),()=>n(t.report.used),()=>r(t.report.total_rem),()=>n(t.report.total_rem)]),q(e,s),Ne()}var ts=j('<section class="bg-slate-800/30 border border-white/5 rounded-2xl p-6"><h3 class="text-lg font-semibold text-white mb-4">Configurazione</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-2"><label for="start-date" class="block text-xs font-medium text-slate-400 uppercase">Inizio Maturazione</label> <input id="start-date" type="date" class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all"/></div> <div class="space-y-2"><label for="as-of-date" class="block text-xs font-medium text-slate-400 uppercase">Data Calcolo (Oggi)</label> <input id="as-of-date" type="date" class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all"/></div> <div class="space-y-2"><label for="ferie-yearly" class="block text-xs font-medium text-slate-400 uppercase">Ore Ferie / Anno</label> <input id="ferie-yearly" type="number" step="0.5" class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all"/></div> <div class="space-y-2"><label for="par-yearly" class="block text-xs font-medium text-slate-400 uppercase">Ore PAR / Anno</label> <input id="par-yearly" type="number" step="0.5" class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all"/></div> <div class="space-y-2"><label for="province-select" class="block text-xs font-medium text-slate-400 uppercase">Provincia</label> <select id="province-select" class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all appearance-none"><option>Milano</option><option>Altro (Nazionale)</option></select></div></div> <div class="mt-6 pt-6 border-t border-white/5 flex justify-between items-center"><div class="flex gap-4"><button class="flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg> Esporta CSV</button> <label class="flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition-colors cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg> Importa CSV <input type="file" accept=".csv" class="hidden"/></label></div> <button class="flex items-center gap-2 px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg text-sm font-medium transition-colors border border-red-500/20"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Reset Tutto</button></div></section>');function rs(e,t){Ie(t,!0);let r=Qe(t,"startStr"),n=Qe(t,"asOfStr"),s=Qe(t,"ferieYearly"),i=Qe(t,"parYearly"),o=Qe(t,"province");var u=ts(),a=m(p(u),2),l=p(a),f=m(p(l),2),v=m(l,2),h=m(p(v),2),c=m(v,2),g=m(p(c),2),y=m(c,2),_=m(p(y),2),b=m(y,2),M=m(p(b),2),C=p(M);C.value=C.__value="MI";var A=m(C);A.value=A.__value="IT";var I=m(a,2),L=p(I),x=p(L);x.__click=function(...Y){t.onExportData?.apply(this,Y)};var S=m(x,2),T=m(p(S),2);T.__change=function(...Y){t.onImportData?.apply(this,Y)};var R=m(L,2);R.__click=function(...Y){t.onResetData?.apply(this,Y)},be(f,r),be(h,n),be(g,s),be(_,i),Di(M,o),q(e,u),Ne()}It(["click","change"]);var ns=j('<div class="space-y-1"><label for="new-leave-date" class="block text-xs text-slate-400">Data</label> <input id="new-leave-date" type="date" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"/></div>'),is=j('<div class="space-y-1"><label for="new-leave-range-start" class="block text-xs text-slate-400">Dal</label> <input id="new-leave-range-start" type="date" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"/></div> <div class="space-y-1"><label for="new-leave-range-end" class="block text-xs text-slate-400">Al (incluso)</label> <input id="new-leave-range-end" type="date" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"/></div>',1),ss=j('<div class="bg-slate-900/40 rounded-xl p-4 mb-6 border border-indigo-500/20"><div class="flex justify-between mb-4"><div class="bg-slate-800 p-1 rounded-lg inline-flex"><button>Giorno Singolo</button> <button>Range Date</button></div></div> <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end"><!> <div class="space-y-1"><label for="new-leave-hours" class="block text-xs text-slate-400">Ore</label> <input id="new-leave-hours" type="number" step="0.5" class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"/></div> <div class="space-y-1 md:col-span-1"><button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg px-4 py-2 text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Aggiungi</button></div></div> <div class="space-y-1 mt-4"><label for="new-leave-note" class="block text-xs text-slate-400">Nota (Opzionale)</label> <input id="new-leave-note" type="text" placeholder="Es. Visita medica..." class="w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"/></div></div>');function as(e,t){Ie(t,!0);let r=P(!1),n=P(""),s=P(""),i=P(8),o=P("");function u(){let x=[];if(d(r)){if(!d(n)||!d(s))return;x=Pi(d(n),d(s)).map(T=>({d:T,hours:d(i),note:d(o),type:"ferie"}))}else{if(!d(n))return;x=[{d:d(n),hours:d(i),note:d(o),type:"ferie"}]}x.length>0&&(t.onAddLeaves(x),d(r)||w(n,"")),d(r)||w(n,""),w(s,""),w(i,8),w(o,"")}var a=ss(),l=p(a),f=p(l),v=p(f);v.__click=()=>w(r,!1);var h=m(v,2);h.__click=()=>w(r,!0);var c=m(l,2),g=p(c);{var y=x=>{var S=ns(),T=m(p(S),2);be(T,()=>d(n),R=>w(n,R)),q(x,S)},_=x=>{var S=is(),T=Ir(S),R=m(p(T),2),Y=m(T,2),fe=m(p(Y),2);be(R,()=>d(n),ce=>w(n,ce)),be(fe,()=>d(s),ce=>w(s,ce)),q(x,S)};Et(g,x=>{d(r)?x(_,!1):x(y)})}var b=m(g,2),M=m(p(b),2),C=m(b,2),A=p(C);A.__click=u;var I=m(c,2),L=m(p(I),2);oe(()=>{qe(v,1,`px-3 py-1 text-xs font-medium rounded-md transition-all ${d(r)?"text-slate-400 hover:text-white":"bg-indigo-600 text-white shadow"}`),qe(h,1,`px-3 py-1 text-xs font-medium rounded-md transition-all ${d(r)?"bg-indigo-600 text-white shadow":"text-slate-400 hover:text-white"}`),A.disabled=!d(r)&&!d(n)||d(r)&&(!d(n)||!d(s))}),be(M,()=>d(i),x=>w(i,x)),be(L,()=>d(o),x=>w(o,x)),q(e,a),Ne()}It(["click"]);var os=j('<div class="text-slate-500 text-sm text-center py-4">Nessuna voce inserita.</div>'),ls=j('<span class="text-xs bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded"> </span>'),us=j('<span class="text-slate-600">â€¢</span> <span> </span>',1),fs=j('<div class="bg-slate-900/40 p-4 rounded-xl border border-white/5 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 group hover:border-indigo-500/30 transition-colors"><div><div class="flex items-center gap-2 mb-1"><span class="font-mono text-white text-lg"> </span> <!></div> <div class="flex items-center gap-2 text-sm text-slate-400"><span class="font-mono text-slate-300"> </span> <!></div></div> <button class="text-xs text-red-400 hover:text-red-300 hover:bg-red-500/10 px-3 py-1.5 rounded transition-colors opacity-0 group-hover:opacity-100">Rimuovi</button></div>'),cs=j('<div class="space-y-2"><!> <!></div>');function ds(e,t){Ie(t,!0);let r=le(()=>{if(t.leaves.length===0)return[];const a=[];let l=null;return t.leaves.forEach((f,v)=>{const h=f.type||"ferie";if(h==="festa")return;if(!l){l={id:`g-${v}`,isRange:!1,start:f.d,end:f.d,hours:f.hours,days:1,totalHours:f.hours,note:f.note||"",type:h,originalIndices:[v]};return}const c=U(l.end),g=U(f.d),y=Math.abs(g.getTime()-c.getTime()),b=Math.ceil(y/(1e3*60*60*24))<=4,M=f.hours===l.hours,C=(f.note||"")===l.note,A=h===l.type;b&&M&&C&&A?(l.end=f.d,l.days+=1,l.totalHours+=f.hours,l.isRange=!0,l.originalIndices.push(v)):(a.push(l),l={id:`g-${v}`,isRange:!1,start:f.d,end:f.d,hours:f.hours,days:1,totalHours:f.hours,note:f.note||"",type:h,originalIndices:[v]})}),l&&a.push(l),a});function n(a,l){return a===l?U(a).toLocaleDateString("it-IT"):`${U(a).toLocaleDateString("it-IT")} - ${U(l).toLocaleDateString("it-IT")}`}var s=cs(),i=p(s);{var o=a=>{var l=os();q(a,l)};Et(i,a=>{d(r).length===0&&a(o)})}var u=m(i,2);Ze(u,17,()=>d(r),a=>a.id,(a,l)=>{var f=fs(),v=p(f),h=p(v),c=p(h),g=p(c),y=m(c,2);{var _=x=>{var S=ls(),T=p(S);oe(()=>O(T,`${d(l).days??""} gg`)),q(x,S)};Et(y,x=>{d(l).isRange&&x(_)})}var b=m(h,2),M=p(b),C=p(M),A=m(M,2);{var I=x=>{var S=us(),T=m(Ir(S),2),R=p(T);oe(()=>O(R,d(l).note)),q(x,S)};Et(A,x=>{d(l).note&&x(I)})}var L=m(v,2);L.__click=()=>t.onRemoveGroup(d(l)),oe(x=>{O(g,x),O(C,`${d(l).totalHours??""}h tot`)},[()=>n(d(l).start,d(l).end)]),q(a,f)}),q(e,s),Ne()}It(["click"]);var vs=j("<button> </button>"),hs=j('<div class="flex items-center gap-1 bg-slate-900/50 rounded-lg p-1 mr-4"><button aria-label="Anno precedente" class="p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <!> <button aria-label="Anno successivo" class="p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div>');function _s(e,t){Ie(t,!0);let r=Qe(t,"viewYear");function n(){r()>t.startYear&&cr(r,-1)}function s(){cr(r)}var i=hs(),o=p(i);o.__click=n;var u=m(o,2);Ze(u,17,()=>t.availableYears,ot,(l,f)=>{var v=vs();v.__click=()=>r(d(f));var h=p(v);oe(()=>{qe(v,1,`px-2 py-0.5 text-xs font-mono rounded transition-colors ${r()===d(f)?"bg-indigo-600 text-white shadow":"text-slate-500 hover:text-slate-300"}`),O(h,d(f))}),q(l,v)});var a=m(u,2);a.__click=s,oe(()=>o.disabled=r()<=t.startYear),q(e,i),Ne()}It(["click"]);var ps=j('<div class="min-h-screen bg-slate-900 text-slate-100 font-inter selection:bg-purple-500 selection:text-white pb-20"><header class="bg-gradient-to-r from-indigo-900 via-purple-900 to-slate-900 py-12 px-6 shadow-2xl border-b border-indigo-500/20"><div class="max-w-4xl mx-auto"><h1 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-200 to-purple-200 mb-2">Calcolatore Ferie</h1> <p class="text-indigo-200/60 text-lg">Gestisci e prevedi le tue ferie e permessi con precisione.</p></div></header> <main class="max-w-4xl mx-auto px-6 -mt-8 space-y-8"><!> <!> <section class="bg-slate-800/30 border border-white/5 rounded-2xl p-6"><h3 class="text-lg font-semibold text-white mb-6 flex justify-between items-center"><span>Storico & Simulazione</span> <div class="flex gap-2 items-center"><!> <span class="text-xs font-normal text-slate-400 bg-slate-800 px-3 py-1 rounded-full"> </span></div></h3> <div class="mb-8"><!></div> <!> <div class="mt-8 border-t border-white/5 pt-6"><h4 class="text-sm font-semibold text-slate-400 mb-4 uppercase tracking-wider">Lista Movimenti</h4> <!></div></section></main></div>');function gs(e,t){Ie(t,!0);let r=P("2025-01-01"),n=P(we(je(new Date))),s=P(we([])),i=P(160),o=P(104),u=P("MI"),a=le(()=>{const E=new Set,N=new Date(d(r)).getFullYear();E.add(N),E.add(new Date(d(n)).getFullYear()),E.add(new Date().getFullYear()),E.add(new Date().getFullYear()+1),d(s).forEach(V=>E.add(U(V.d).getFullYear()));let H=[];return E.forEach(V=>{H=[...H,...Gi(V,d(u))]}),H}),l=le(()=>[...d(s),...d(a)].sort((E,N)=>E.d.localeCompare(N.d))),f=le(()=>Bi(d(n),d(r),d(l),d(i),d(o))),v=P(we(new Date().getFullYear())),h=le(()=>{const E=new Date(d(r)).getFullYear();return[d(v)-1,d(v),d(v)+1].filter(H=>H>=E)});Ii(()=>{const E=localStorage.getItem("ferie_start_date");E&&w(r,E,!0);const N=localStorage.getItem("ferie_leaves");if(N){const $=JSON.parse(N);w(s,$.filter(ge=>ge.type!=="festa"),!0)}const H=localStorage.getItem("ferie_yearly_hours");H&&w(i,parseFloat(H),!0);const V=localStorage.getItem("par_yearly_hours");V&&w(o,parseFloat(V),!0);const K=localStorage.getItem("ferie_province");K&&(K==="MI"||K==="IT")&&w(u,K,!0)}),Pr(()=>{localStorage.setItem("ferie_start_date",d(r)),localStorage.setItem("ferie_leaves",JSON.stringify(d(s))),localStorage.setItem("ferie_yearly_hours",d(i).toString()),localStorage.setItem("par_yearly_hours",d(o).toString()),localStorage.setItem("ferie_province",d(u))});function c(E){w(s,[...d(s),...E].sort((N,H)=>N.d.localeCompare(H.d)),!0)}function g(){const E="date,hours_taken,note",N=d(l).map(ge=>`${ge.d},${ge.hours},${ge.note||""}`),H=[E,...N].join(`
`),V=new Blob([H],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(V),$=document.createElement("a");$.setAttribute("href",K),$.setAttribute("download","ferie_data.csv"),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)}function y(E){const N=E.target;if(!N.files?.length)return;const H=N.files[0],V=new FileReader;V.onload=K=>{const $=K.target?.result;if(!$)return;const ge=$.split(/\r?\n/).filter(de=>de.trim()&&!de.startsWith("#")),at=[];let Ae=!1;for(const de of ge){if(!Ae&&de.toLowerCase().includes("date")){Ae=!0;continue}const Te=de.split(",");if(Te.length<2)continue;const mt=Te[0].trim(),bt=parseFloat(Te[1].trim()),Nt=Te.slice(2).join(",").trim();mt&&!isNaN(bt)&&at.push({d:mt,hours:bt,note:Nt})}at.length>0?(w(s,at.sort((de,Te)=>U(de.d)>U(Te.d)?1:-1),!0),alert(`Importate ${d(s).length} voci.`)):alert("Nessuna voce valida trovata nel CSV."),N.value=""},V.readAsText(H)}function _(){confirm("Sei sicuro di voler resettare TUTTI i dati e la configurazione? Questa azione non puÃ² essere annullata.")&&(w(s,[],!0),w(r,"2025-01-01"),w(n,je(new Date),!0),w(i,160),w(o,104),w(u,"MI"))}function b(E){if(E.type==="festa")return;const N=U(E.start),H=U(E.end);w(s,d(s).filter(V=>{if(V.type!==E.type)return!0;const K=U(V.d);return!(K>=N&&K<=H)}),!0)}var M=ps(),C=m(p(M),2),A=p(C);es(A,{get report(){return d(f)}});var I=m(A,2);rs(I,{onExportData:g,onImportData:y,onResetData:_,get startStr(){return d(r)},set startStr(E){w(r,E,!0)},get asOfStr(){return d(n)},set asOfStr(E){w(n,E,!0)},get ferieYearly(){return d(i)},set ferieYearly(E){w(i,E,!0)},get parYearly(){return d(o)},set parYearly(E){w(o,E,!0)},get province(){return d(u)},set province(E){w(u,E,!0)}});var L=m(I,2),x=p(L),S=m(p(x),2),T=p(S);{let E=le(()=>new Date(d(r)).getFullYear());_s(T,{get availableYears(){return d(h)},get startYear(){return d(E)},get viewYear(){return d(v)},set viewYear(N){w(v,N,!0)}})}var R=m(T,2),Y=p(R),fe=m(x,2),ce=p(fe);Zi(ce,{get year(){return d(v)},get leaves(){return d(l)}});var Me=m(fe,2);as(Me,{onAddLeaves:c});var We=m(Me,2),Ke=m(p(We),2);ds(Ke,{get leaves(){return d(l)},onRemoveGroup:b}),oe(()=>O(Y,`${d(s).length??""} voci`)),q(e,M),Ne()}gi(gs,{target:document.getElementById("app")});
